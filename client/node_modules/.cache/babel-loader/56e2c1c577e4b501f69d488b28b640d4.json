{"ast":null,"code":"var _jsxFileName = \"/Users/gabrielmaldonadopalladini/Desktop/Ironhack/Project3/SunsetSeeker/client/src/components/Rating/StarRating.js\";\nimport React, { Component } from \"react\";\nimport { FaStar } from 'react-icons/fa';\nimport axios from \"axios\";\nimport \"./StarRating.scss\";\nexport default class Favorite extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rating: 0,\n      hover: 0\n    };\n\n    this.handleHover = value => {\n      this.setState({\n        hover: value\n      });\n    };\n\n    this.getAverageRating = arrRating => arrRating.reduce((a, v) => a + v, 0) / arrRating.length;\n\n    this.handleRating = event => {\n      console.log(event.target.value);\n      axios.put(`/server/list/rating/${this.props.spotId}`, {\n        rating: event.target.value\n      }).then(res => {\n        console.log(res, \"RESPONSE\");\n        this.setState({\n          rating: this.getAverageRating(res.data.rating)\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      rating: this.getAverageRating(this.props.rating)\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }, [...Array(5)].map((star, i) => {\n      const ratingValue = i + 1;\n      return /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"ratingstars\",\n        type: \"radio\",\n        name: \"rating\",\n        value: ratingValue,\n        onClick: event => this.handleRating(event),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(FaStar, {\n        className: \"star\",\n        color: ratingValue <= (this.state.hover || this.state.rating) ? \"#ffc107\" : \"#e4e5e9\",\n        size: 60,\n        onMouseEnter: () => this.handleHover(ratingValue),\n        onMouseLeave: () => this.handleHover(null),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }\n      }), \";\");\n    }));\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/gabrielmaldonadopalladini/Desktop/Ironhack/Project3/SunsetSeeker/client/src/components/Rating/StarRating.js"],"names":["React","Component","FaStar","axios","Favorite","state","rating","hover","handleHover","value","setState","getAverageRating","arrRating","reduce","a","v","length","handleRating","event","console","log","target","put","props","spotId","then","res","data","componentDidMount","render","Array","map","star","i","ratingValue"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP;AAEA,eAAe,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC5CI,KAD4C,GACtC;AACFC,MAAAA,MAAM,EAAE,CADN;AAEFC,MAAAA,KAAK,EAAE;AAFL,KADsC;;AAAA,SAM5CC,WAN4C,GAM7BC,KAAD,IAAW;AACrB,WAAKC,QAAL,CAAc;AACVH,QAAAA,KAAK,EAAEE;AADG,OAAd;AAGH,KAV2C;;AAAA,SAW5CE,gBAX4C,GAWxBC,SAAD,IAAeA,SAAS,CAACC,MAAV,CAAiB,CAACC,CAAD,EAAGC,CAAH,KAASD,CAAC,GAAGC,CAA9B,EAAgC,CAAhC,IAAqCH,SAAS,CAACI,MAXrC;;AAAA,SAa5CC,YAb4C,GAa5BC,KAAD,IAAW;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAN,CAAaZ,KAAzB;AACJN,MAAAA,KAAK,CACAmB,GADL,CACU,uBAAsB,KAAKC,KAAL,CAAWC,MAAO,EADlD,EACqD;AAC7ClB,QAAAA,MAAM,EAAEY,KAAK,CAACG,MAAN,CAAaZ;AADwB,OADrD,EAIKgB,IAJL,CAIWC,GAAD,IAAS;AACXP,QAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ,EAAiB,UAAjB;AAEJ,aAAKhB,QAAL,CAAc;AACVJ,UAAAA,MAAM,EAAE,KAAKK,gBAAL,CAAsBe,GAAG,CAACC,IAAJ,CAASrB,MAA/B;AADE,SAAd;AAGC,OAVL;AAWC,KA1B2C;AAAA;;AA4B5CsB,EAAAA,iBAAiB,GAAG;AAChB,SAAKlB,QAAL,CAAc;AACVJ,MAAAA,MAAM,EAAE,KAAKK,gBAAL,CAAsB,KAAKY,KAAL,CAAWjB,MAAjC;AADE,KAAd;AAGH;;AAEDuB,EAAAA,MAAM,GAAG;AACb,wBACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAE,GAAIC,KAAK,CAAC,CAAD,CAAX,EAAgBC,GAAhB,CAAoB,CAACC,IAAD,EAAOC,CAAP,KAAa;AAC9B,YAAMC,WAAW,GAAGD,CAAC,GAAG,CAAxB;AACA,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AACI,QAAA,SAAS,EAAC,aADd;AAEI,QAAA,IAAI,EAAC,OAFT;AAGI,QAAA,IAAI,EAAC,QAHT;AAII,QAAA,KAAK,EAAEC,WAJX;AAKI,QAAA,OAAO,EAAKhB,KAAD,IAAW,KAAKD,YAAL,CAAkBC,KAAlB,CAL1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eASI,oBAAC,MAAD;AACI,QAAA,SAAS,EAAC,MADd;AAEI,QAAA,KAAK,EAAEgB,WAAW,KAAK,KAAK7B,KAAL,CAAWE,KAAX,IAAoB,KAAKF,KAAL,CAAWC,MAApC,CAAX,GAAyD,SAAzD,GAAqE,SAFhF;AAGI,QAAA,IAAI,EAAE,EAHV;AAII,QAAA,YAAY,EAAI,MAAM,KAAKE,WAAL,CAAiB0B,WAAjB,CAJ1B;AAKI,QAAA,YAAY,EAAI,MAAM,KAAK1B,WAAL,CAAiB,IAAjB,CAL1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATJ,MADJ;AAmBH,KArBA,CADH,CADN;AA4BK;;AA/D2C;AAgE/C","sourcesContent":["import React, { Component } from \"react\";\nimport { FaStar } from 'react-icons/fa';\nimport axios from \"axios\";\nimport \"./StarRating.scss\";\n\nexport default class Favorite extends Component { \n    state={\n        rating: 0,\n        hover: 0\n    }\n\n    handleHover = (value) => {\n        this.setState({\n            hover: value\n        })\n    }\n    getAverageRating = (arrRating) => arrRating.reduce((a,v) => a + v,0) / arrRating.length;\n\n    handleRating = (event) => {\n        console.log(event.target.value) \n    axios\n        .put(`/server/list/rating/${this.props.spotId}`, {\n            rating: event.target.value,\n        })\n        .then((res) => {\n            console.log(res, \"RESPONSE\");\n            \n        this.setState({\n            rating: this.getAverageRating(res.data.rating)\n        })\n        });\n    }\n\n    componentDidMount() {\n        this.setState({\n            rating: this.getAverageRating(this.props.rating),\n        })\n    }\n\n    render() {\nreturn (\n      <div>\n        {[ ... Array(5)].map((star, i) => {\n            const ratingValue = i + 1; \n            return (\n                <label>\n                    <input \n                        className='ratingstars'\n                        type='radio' \n                        name='rating' \n                        value={ratingValue}\n                        onClick = {(event) => this.handleRating(event)}\n                        \n                         />\n                    <FaStar \n                        className='star' \n                        color={ratingValue <= (this.state.hover || this.state.rating) ? \"#ffc107\" : \"#e4e5e9\"} \n                        size={60} \n                        onMouseEnter = {() => this.handleHover(ratingValue)}\n                        onMouseLeave = {() => this.handleHover(null)}\n                    />;\n                </label> \n            );\n        })}\n\n      </div>\n\n    );\n    }\n};"]},"metadata":{},"sourceType":"module"}