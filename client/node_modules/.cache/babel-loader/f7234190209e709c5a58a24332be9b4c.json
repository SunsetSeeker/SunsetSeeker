{"ast":null,"code":"import _toConsumableArray from\"/Users/gabrielmaldonadopalladini/Desktop/Ironhack/Project3/SunsetSeeker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/gabrielmaldonadopalladini/Desktop/Ironhack/Project3/SunsetSeeker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/gabrielmaldonadopalladini/Desktop/Ironhack/Project3/SunsetSeeker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/gabrielmaldonadopalladini/Desktop/Ironhack/Project3/SunsetSeeker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/gabrielmaldonadopalladini/Desktop/Ironhack/Project3/SunsetSeeker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{FaStar}from'react-icons/fa';import axios from\"axios\";import\"./StarRating.scss\";var Favorite=/*#__PURE__*/function(_Component){_inherits(Favorite,_Component);var _super=_createSuper(Favorite);function Favorite(){var _this;_classCallCheck(this,Favorite);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={rating:0,hover:0};_this.handleHover=function(value){_this.setState({hover:value});};_this.getAverageRating=function(arrRating){return arrRating.reduce(function(a,v){return a+v;},0)/arrRating.length;};_this.handleRating=function(event){console.log(event.target.value);axios.put(\"/server/list/rating/\".concat(_this.props.spotId),{rating:event.target.value}).then(function(res){console.log(res,\"RESPONSE\");_this.setState({rating:_this.getAverageRating(res.data.rating)});});};return _this;}_createClass(Favorite,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({rating:this.getAverageRating(this.props.rating)});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,_toConsumableArray(Array(5)).map(function(star,i){var ratingValue=i+1;return/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{className:\"ratingstars\",type:\"radio\",name:\"rating\",value:ratingValue,onClick:function onClick(event){return _this2.handleRating(event);}}),/*#__PURE__*/React.createElement(FaStar,{className:\"star\",color:ratingValue<=(_this2.state.hover||_this2.state.rating)?\"#ffc107\":\"#e4e5e9\",size:30,onMouseEnter:function onMouseEnter(){return _this2.handleHover(ratingValue);},onMouseLeave:function onMouseLeave(){return _this2.handleHover(null);}}));}));}}]);return Favorite;}(Component);export{Favorite as default};;","map":{"version":3,"sources":["/Users/gabrielmaldonadopalladini/Desktop/Ironhack/Project3/SunsetSeeker/client/src/components/Rating/StarRating.js"],"names":["React","Component","FaStar","axios","Favorite","state","rating","hover","handleHover","value","setState","getAverageRating","arrRating","reduce","a","v","length","handleRating","event","console","log","target","put","props","spotId","then","res","data","Array","map","star","i","ratingValue"],"mappings":"i9BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,KAAuB,gBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,mBAAP,C,GACqBC,CAAAA,Q,mUACjBC,K,CAAM,CACFC,MAAM,CAAE,CADN,CAEFC,KAAK,CAAE,CAFL,C,OAINC,W,CAAc,SAACC,KAAD,CAAW,CACrB,MAAKC,QAAL,CAAc,CACVH,KAAK,CAAEE,KADG,CAAd,EAGH,C,OACDE,gB,CAAmB,SAACC,SAAD,QAAeA,CAAAA,SAAS,CAACC,MAAV,CAAiB,SAACC,CAAD,CAAGC,CAAH,QAASD,CAAAA,CAAC,CAAGC,CAAb,EAAjB,CAAgC,CAAhC,EAAqCH,SAAS,CAACI,MAA9D,E,OACnBC,Y,CAAe,SAACC,KAAD,CAAW,CACtBC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAN,CAAaZ,KAAzB,EACJN,KAAK,CACAmB,GADL,+BACgC,MAAKC,KAAL,CAAWC,MAD3C,EACqD,CAC7ClB,MAAM,CAAEY,KAAK,CAACG,MAAN,CAAaZ,KADwB,CADrD,EAIKgB,IAJL,CAIU,SAACC,GAAD,CAAS,CACXP,OAAO,CAACC,GAAR,CAAYM,GAAZ,CAAiB,UAAjB,EACJ,MAAKhB,QAAL,CAAc,CACVJ,MAAM,CAAE,MAAKK,gBAAL,CAAsBe,GAAG,CAACC,IAAJ,CAASrB,MAA/B,CADE,CAAd,EAGC,CATL,EAUC,C,iGACmB,CAChB,KAAKI,QAAL,CAAc,CACVJ,MAAM,CAAE,KAAKK,gBAAL,CAAsB,KAAKY,KAAL,CAAWjB,MAAjC,CADE,CAAd,EAGH,C,uCACQ,iBACb,mBACM,+BACG,mBAAMsB,KAAK,CAAC,CAAD,CAAX,EAAgBC,GAAhB,CAAoB,SAACC,IAAD,CAAOC,CAAP,CAAa,CAC9B,GAAMC,CAAAA,WAAW,CAAGD,CAAC,CAAG,CAAxB,CACA,mBACI,8CACI,6BACI,SAAS,CAAC,aADd,CAEI,IAAI,CAAC,OAFT,CAGI,IAAI,CAAC,QAHT,CAII,KAAK,CAAEC,WAJX,CAKI,OAAO,CAAI,iBAACd,KAAD,QAAW,CAAA,MAAI,CAACD,YAAL,CAAkBC,KAAlB,CAAX,EALf,EADJ,cAQI,oBAAC,MAAD,EACI,SAAS,CAAC,MADd,CAEI,KAAK,CAAEc,WAAW,GAAK,MAAI,CAAC3B,KAAL,CAAWE,KAAX,EAAoB,MAAI,CAACF,KAAL,CAAWC,MAApC,CAAX,CAAyD,SAAzD,CAAqE,SAFhF,CAGI,IAAI,CAAE,EAHV,CAII,YAAY,CAAI,8BAAM,CAAA,MAAI,CAACE,WAAL,CAAiBwB,WAAjB,CAAN,EAJpB,CAKI,YAAY,CAAI,8BAAM,CAAA,MAAI,CAACxB,WAAL,CAAiB,IAAjB,CAAN,EALpB,EARJ,CADJ,CAkBH,CApBA,CADH,CADN,CAyBK,C,sBAvDiCP,S,SAAjBG,Q,aAwDpB","sourcesContent":["import React, { Component } from \"react\";\nimport { FaStar } from 'react-icons/fa';\nimport axios from \"axios\";\nimport \"./StarRating.scss\";\nexport default class Favorite extends Component { \n    state={\n        rating: 0,\n        hover: 0\n    }\n    handleHover = (value) => {\n        this.setState({\n            hover: value\n        })\n    }\n    getAverageRating = (arrRating) => arrRating.reduce((a,v) => a + v,0) / arrRating.length;\n    handleRating = (event) => {\n        console.log(event.target.value) \n    axios\n        .put(`/server/list/rating/${this.props.spotId}`, {\n            rating: event.target.value,\n        })\n        .then((res) => {\n            console.log(res, \"RESPONSE\");\n        this.setState({\n            rating: this.getAverageRating(res.data.rating)\n        })\n        });\n    }\n    componentDidMount() {\n        this.setState({\n            rating: this.getAverageRating(this.props.rating),\n        })\n    }\n    render() {\nreturn (\n      <div>\n        {[ ... Array(5)].map((star, i) => {\n            const ratingValue = i + 1; \n            return (\n                <label>\n                    <input \n                        className='ratingstars'\n                        type='radio' \n                        name='rating' \n                        value={ratingValue}\n                        onClick = {(event) => this.handleRating(event)}\n                         />\n                    <FaStar \n                        className='star' \n                        color={ratingValue <= (this.state.hover || this.state.rating) ? \"#ffc107\" : \"#e4e5e9\"} \n                        size={30} \n                        onMouseEnter = {() => this.handleHover(ratingValue)}\n                        onMouseLeave = {() => this.handleHover(null)}\n                    />\n                </label> \n            );\n        })}\n      </div>\n    );\n    }\n};"]},"metadata":{},"sourceType":"module"}