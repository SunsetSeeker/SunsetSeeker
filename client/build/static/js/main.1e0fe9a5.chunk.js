(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){},115:function(e,t){e.exports="data:image/png;base64,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"},118:function(e,t,a){e.exports=a.p+"static/media/carousel1.ec5a50b6.jpg"},119:function(e,t,a){e.exports=a.p+"static/media/carousel2.3397dcaf.jpg"},120:function(e,t,a){e.exports=a.p+"static/media/carousel3.b1208f7e.jpg"},121:function(e,t,a){e.exports=a.p+"static/media/carousel4.7a0bf9ec.jpg"},122:function(e,t,a){e.exports=a.p+"static/media/carousel5.01c38200.jpg"},123:function(e,t,a){e.exports=a.p+"static/media/carousel6.2f5dc046.jpg"},124:function(e,t,a){e.exports=a.p+"static/media/carousel7.f1a81f16.jpg"},130:function(e,t,a){e.exports=a.p+"static/media/trash.107c2a14.png"},148:function(e,t,a){e.exports=a(237)},153:function(e,t,a){},154:function(e,t,a){},171:function(e,t,a){},176:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},214:function(e,t){},219:function(e,t,a){},220:function(e,t,a){},223:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(68),o=a.n(l),s=a(24),i=(a(153),a(18)),c=a(19),u=a(21),m=a(20),p=(a(154),a(28)),d=a(22),g=a.n(d),h=function(e,t){return g.a.post("/server/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},A=function(e,t){return g.a.post("/server/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},f=a(115),E=a.n(f),v=(a(171),function(e){g.a.delete("/server/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))}),b=function(e){return r.a.createElement("nav",null,r.a.createElement("h1",{id:"suncatcher"},"Suncatcher"),e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"twoparts"},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/list"},r.a.createElement("button",{className:"part",variant:"danger"},"Explore"))),r.a.createElement("div",null,r.a.createElement(s.b,{to:"/",onClick:function(){return v(e)}},r.a.createElement("button",{className:"part",variant:"danger"},"Logout"))),r.a.createElement("div",null,r.a.createElement(s.b,{to:"/profile"},r.a.createElement("img",{className:"part",id:"icon",src:E.a,style:{width:"25px"},alt:"profile"}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"twoparts"},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/signup"},r.a.createElement("button",{className:"part",variant:"danger"},"Signup"))),r.a.createElement("div",null,r.a.createElement(s.b,{to:"/login"},r.a.createElement("button",{className:"part",id:"login",variant:"danger"},"Login"))))))},w=a(33),y=(a(101),a(70)),C=a.n(y),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(w.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;h(n,r).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/"))}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"auth-container"},r.a.createElement("div",{className:"auth-text"},r.a.createElement("h4",null,"Signup with username"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"username"},"Choose a username: "),r.a.createElement("br",null),r.a.createElement("input",{className:"auth-input",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"Set a password: "),r.a.createElement("br",null),r.a.createElement("input",{className:"auth-input",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"}),this.state.message&&r.a.createElement("p",null,this.state.message),r.a.createElement("br",null),r.a.createElement("button",{className:"auth-button",type:"submit"},"Create account")),r.a.createElement("h4",null,"...or do you want to sign up with your Google account?"),r.a.createElement("a",{href:"http://localhost:5555/server/auth/google"},r.a.createElement("button",{className:"google-button"},r.a.createElement("img",{className:"google-logo",src:C.a,style:{width:"15px"},alt:"google"}),"Continue with Google")),r.a.createElement("p",{className:"already"}," Do you already have an account? ",r.a.createElement(s.b,{to:"/login"},"Login"))))}}]),a}(n.Component),O=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(w.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;A(n,r).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/list"))}))},e.logInGoogle=function(e){e.preventDefault(),console.log("this")},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"auth-container"},r.a.createElement("div",{className:"auth-text"},r.a.createElement("h4",null,"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"username"},"Username: "),r.a.createElement("br",null),r.a.createElement("input",{className:"auth-input",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"Password: "),r.a.createElement("br",null),r.a.createElement("input",{className:"auth-input",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"}),r.a.createElement("br",null),r.a.createElement("button",{className:"auth-button",type:"submit"},"Login")),r.a.createElement("br",null),r.a.createElement("h4",null,"...or do you want to log in with your Google account?"),r.a.createElement("a",{href:"http://localhost:5555/server/auth/google"},r.a.createElement("button",{className:"google-button"},r.a.createElement("img",{className:"google-logo",src:C.a,style:{width:"15px"},alt:"google"}),"Continue with Google"))),r.a.createElement("p",{className:"already"}," ","You have no account yet? ",r.a.createElement(s.b,{to:"/signup"},"Signup")))}}]),a}(n.Component),F=(a(176),a(117)),S=(a(182),a(118)),D=a.n(S),k=a(119),N=a.n(k),I=a(120),x=a.n(I),M=a(121),B=a.n(M),Q=a(122),G=a.n(Q),J=a(123),P=a.n(J),L=a(124),V=a.n(L),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(F.Carousel,{autoPlay:!0,showThumbs:!1,showArrows:!1,showIndicators:!1,showStatus:!1},r.a.createElement("div",null,r.a.createElement("img",{src:D.a})),r.a.createElement("div",null,r.a.createElement("img",{src:N.a})),r.a.createElement("div",null,r.a.createElement("img",{src:x.a})),r.a.createElement("div",null,r.a.createElement("img",{src:B.a})),r.a.createElement("div",null,r.a.createElement("img",{src:G.a})),r.a.createElement("div",null,r.a.createElement("img",{src:P.a})),r.a.createElement("div",null,r.a.createElement("img",{src:V.a})))}}]),a}(r.a.Component),H=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"home-text"},r.a.createElement("h2",{className:"heading"},"You're a ",r.a.createElement("span",{className:"underline--magical"},"sunset lover?")),r.a.createElement("p",null,"Use ",r.a.createElement("b",null,"sunsetseeker")," to discover the best sun spots."),r.a.createElement("br",null),r.a.createElement(s.b,{to:"/list"},r.a.createElement("button",{className:"explore",variant:"danger"},"Start exploring!"))),r.a.createElement("div",{className:"home-slideshow"},r.a.createElement(T,null)))}}]),a}(n.Component),R=a(88),U=a(51),Y=(a(183),{fill:"#FC5E53",stroke:"#ffffff"}),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.createElement("svg",{className:"Pin",width:"65",height:"65",viewBox:"0 0 29 28",style:Y},n.createElement("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"}))}}]),a}(n.PureComponent),X=a(35),W=(a(79),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={title:"",description:"",file:[],uploadText:"Choose a photo:",viewport:{latitude:52,longitude:13,zoom:10,width:500,height:400,coordinates:""},marker:{latitude:52.5196,longitude:13.4069},events:{}},e.componentDidMount=function(){navigator.geolocation.getCurrentPosition((function(t){e.setState({viewport:{latitude:t.coords.latitude,longitude:t.coords.longitude,width:480,height:400,zoom:10},marker:{latitude:t.coords.latitude,longitude:t.coords.longitude}})}))},e.onDrop=function(t){e.setState({file:e.state.file.concat(t)})},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n))},e.handleFile=function(t){e.setState({uploadText:"It's uploading.."}),console.log(t);var a=new FormData;console.log("SHOW ME THIS"+t.target),a.append("img",t.target.files[0]),console.log("THIS IS HAPPENING"),g.a.post("/server/list/upload",a).then((function(t){e.setState({file:[].concat(Object(U.a)(e.state.file),[t.data.secure_url]),uploadText:"Upload successful."})})).catch((function(e){return console.log(e)}))},e.handleSubmit=function(t){t.preventDefault(),g.a.post("/server/list",{title:e.state.title,description:e.state.description,file:e.state.file,latitude:e.state.marker.latitude,longitude:e.state.marker.longitude}).then((function(t){console.log(t.data),e.props.history.push("/spotdetails/".concat(t.data._id)),e.setState({title:" ",description:" ",file:" "})})).catch((function(e){console.log(e)}))},e._updateViewport=function(t){e.setState({viewport:t})},e._onMarkerDragStart=function(t){e._logDragEvent("onDragStart",t)},e._onMarkerDrag=function(t){e._logDragEvent("onDrag",t)},e._onMarkerDragEnd=function(t){e._logDragEvent("onDragEnd",t),e.setState({marker:{longitude:t.lngLat[0],latitude:t.lngLat[1]}})},e}return Object(c.a)(a,[{key:"_logDragEvent",value:function(e,t){this.setState({events:Object(R.a)(Object(R.a)({},this.state.events),{},Object(w.a)({},e,t.lngLat))})}},{key:"removeFile",value:function(e){this.setState({file:this.state.file.filter((function(t){return t!==e}))})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.viewport,t.marker);return n.createElement("div",{className:"addspot-container"},n.createElement(s.b,{to:"/list"}," ",n.createElement("button",{className:"white-button"},"Go back to overview")),n.createElement("h4",null,"Add a new sunset location:"),n.createElement("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data"},n.createElement("div",{className:"input-container"},n.createElement("label",null,"Name of the place:")," ",n.createElement("br",null),n.createElement("input",{className:"add-input",type:"text",id:"title",name:"title",value:this.state.title,onChange:this.handleChange,required:!0})),n.createElement("div",{className:"input-container"},n.createElement("label",null,"Tell us more about the place:"),n.createElement("br",null),n.createElement("input",{className:"add-input",type:"text",id:"description",name:"description",value:this.state.description,onChange:this.handleChange})),n.createElement("div",{className:"map"},n.createElement("label",null,"Choose a spot on the map:"),n.createElement("br",null),n.createElement(X.d,Object.assign({},this.state.viewport,{mapStyle:"mapbox://styles/paolagaray/ckd0bdux30v981ilig8zxzd8p",onViewportChange:function(t){return e.setState({viewport:t})},mapboxApiAccessToken:"pk.eyJ1IjoicGFvbGFnYXJheSIsImEiOiJja2NkcDliMzgwMHFpMnFtb2J2djQ0a3VsIn0.FAa7gpiYoJT2eCLEvVVsyA"}),n.createElement("span",{className:"DragAndDrop MediumTextBold"}),n.createElement(X.c,{longitude:a.longitude,latitude:a.latitude,offsetTop:-20,offsetLeft:-10,draggable:!0,onDragStart:this._onMarkerDragStart,onDrag:this._onMarkerDrag,onDragEnd:this._onMarkerDragEnd},n.createElement(z,{size:20})))),n.createElement("div",{className:"input-container"},this.state.uploadText,"It's uploading.."==this.state.uploadText&&n.createElement("div",{className:"bouncing-loader"},n.createElement("div",null),n.createElement("div",null),n.createElement("div",null)),n.createElement("div",{className:"fileInput"},n.createElement("input",{type:"file",id:"photo",name:"photo","data-cloudinary-field":"img_id",onChange:function(t){return e.handleFile(t)}}),n.createElement("br",null)),0!==this.state.file.length&&this.state.file.map((function(e){return n.createElement(n.Fragment,null,n.createElement("img",{src:e,style:{width:"100px"}}))}))),"It's uploading.."!==this.state.uploadText&&n.createElement("button",{className:"button",type:"submit",value:"Add"}," Add this spot")))}}]),a}(n.Component)),K=(a(184),a(244)),Z=a(126),q=a(127),_=a.n(q),$=(a(213),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={sunsets:[],viewport:{latitude:52.52,longitude:13.405,zoom:10,width:500,height:300,coordinates:""},searchResultLayer:null},e.mapRef=r.a.createRef(),e.handleOnResult=function(t){e.setState({searchResultLayer:new K.a({id:"search-result",data:t.result.geometry,getFillColor:[255,0,0,128],getRadius:1e3,pointRadiusMinPixels:10,pointRadiusMaxPixels:10})})},e.geocoder=new _.a({accessToken:"pk.eyJ1IjoicGFvbGFnYXJheSIsImEiOiJja2NkcDliMzgwMHFpMnFtb2J2djQ0a3VsIn0.FAa7gpiYoJT2eCLEvVVsyA"}),e.componentDidMount=function(){e.getData()},e.getData=function(){g.a.get("server/list").then((function(t){console.log("sunsets list:",t.data),e.setState({sunsets:t.data}),console.log(e.state)})).catch((function(e){console.log("error",e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state;t.viewport,t.searchResultLayer;return r.a.createElement("div",{className:"list"},r.a.createElement("h4",null," List of Views next to the location "),this.state.sunsets.map((function(e){return r.a.createElement("div",{className:"sunset-card",key:e._id},r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",null,r.a.createElement("img",{className:"sunset-list-img",src:e.img[0],style:{width:"100px"},alt:"pic"}))),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/spotdetails/".concat(e._id)}," ",r.a.createElement("div",{className:"sunset-title-list"},e.title))),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/spotdetails/".concat(e._id)}," ",r.a.createElement("button",{className:"part",variant:"danger"},"See details"))))))})),r.a.createElement("br",null),r.a.createElement(X.d,Object.assign({ref:this.mapRef},this.state.viewport,{mapboxApiAccessToken:"pk.eyJ1IjoicGFvbGFnYXJheSIsImEiOiJja2NkcDliMzgwMHFpMnFtb2J2djQ0a3VsIn0.FAa7gpiYoJT2eCLEvVVsyA",mapStyle:"mapbox://styles/paolagaray/ckd0bdux30v981ilig8zxzd8p",onViewportChange:function(t){return e.setState({viewport:t})}}),r.a.createElement(X.b,{style:{float:"left",margin:"15px",padding:"5px"},positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}),r.a.createElement(Z.a,{mapRef:this.mapRef,onResult:this.handleOnResult,onViewportChange:function(t){return e.setState({viewport:t})},mapboxApiAccessToken:"pk.eyJ1IjoicGFvbGFnYXJheSIsImEiOiJja2NkcDliMzgwMHFpMnFtb2J2djQ0a3VsIn0.FAa7gpiYoJT2eCLEvVVsyA",position:"top-right"}),this.state.sunsets.map((function(e){return r.a.createElement(X.c,{key:e._id,longitude:e.longitude,latitude:e.latitude},r.a.createElement(s.b,{to:"/spotdetails/".concat(e._id)},r.a.createElement("img",{className:"marker-btn-img",src:e.img[0],alt:"sunset icon"})))}))),r.a.createElement(s.b,{to:"/addSpot"}," ",r.a.createElement("button",{className:"part",variant:"danger"},"Add a new sunset")),r.a.createElement("br",null),r.a.createElement("br",null))}}]),a}(n.Component)),ee=a(130),te=a.n(ee),ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Edit the spot you created:"),r.a.createElement("form",{onSubmit:this.props.handleSubmit,encType:"multipart/form-data"},r.a.createElement("label",null,"Change the name of the sunset spot:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"title",name:"title",value:this.props.title,onChange:this.props.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Change the description: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"description",name:"description",value:this.props.description,onChange:this.props.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Delete pictures: "),this.props.img.map((function(t){return r.a.createElement("div",null,r.a.createElement("button",{type:"button",variant:"danger",onClick:function(){return e.props.deleteImage(t)}},r.a.createElement("img",{src:t,style:{width:"100px"},alt:"pic"}),r.a.createElement("span",null,r.a.createElement("img",{src:te.a,style:{width:"15px"}}))))})),r.a.createElement("label",null,"...or add more pictures:"),r.a.createElement("br",null),r.a.createElement("img",{src:this.props.img,style:{width:"100px"}}),r.a.createElement("input",{type:"file",id:"photo",name:"photo",multiple:!0,onChange:function(t){return e.props.handleFile(t)}}),r.a.createElement("input",{type:"submit",value:"Save"})))}}]),a}(n.Component),ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={commentfromuser:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(w.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state.commentfromuser,n=e.props.match.params.spotId;g.a.post("/server/comment/new/".concat(n),{comment:a}).then((function(t){e.props.getData(),e.props.hideForm()})).catch((function(e){console.log(e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Add a new comment "),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null," Whats your comment about this spot? "),r.a.createElement("input",{type:"text",id:"comment",name:"commentfromuser",value:this.state.commentfromuser,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Add"})))}}]),a}(n.Component),re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={comments:[],message:""},e.componentDidMount=function(){e.getData()},e.getData=function(){g.a.get("/server/commentlist/".concat(e.props.spotId)).then((function(t){console.log("teste teste",t),0==t.data.length?e.setState({message:"no comments"}):e.setState({comments:t.data})})).catch((function(e){console.log("error",e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.message&&r.a.createElement("p",null,this.state.message),this.state.comments.map((function(e){return r.a.createElement("p",{key:e._id},e.text)})))}}]),a}(n.Component),le=a(85),oe=(a(219),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={rating:0,hover:0},e.handleHover=function(t){e.setState({hover:t})},e.getAverageRating=function(e){return e.reduce((function(e,t){return e+t}),0)/e.length},e.handleRating=function(t){console.log(t.target.value),g.a.put("/server/list/rating/".concat(e.props.spotId),{rating:t.target.value}).then((function(t){console.log(t,"RESPONSE"),e.setState({rating:e.getAverageRating(t.data.rating)})}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({rating:this.getAverageRating(this.props.rating)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,Object(U.a)(Array(5)).map((function(t,a){var n=a+1;return r.a.createElement("label",null,r.a.createElement("input",{className:"ratingstars",type:"radio",name:"rating",value:n,onClick:function(t){return e.handleRating(t)}}),r.a.createElement(le.a,{className:"star",color:n<=(e.state.hover||e.state.rating)?"#ffc107":"#e4e5e9",size:30,onMouseEnter:function(){return e.handleHover(n)},onMouseLeave:function(){return e.handleHover(null)}}))})))}}]),a}(n.Component)),se=(a(220),a(131)),ie=a(132),ce=r.a.createElement(se.a,{icon:ie.a}),ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={favorite:!1,likes:e.props.likes},e.handleFavorites=function(){g.a.put("/server/list/favorites/".concat(e.props.spotId)).then((function(t){console.log(t.data,"RESPONSE"),e.setState({likes:t.data.likes,favorite:!0})}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleFavorites,className:!0===this.state.favorite?"FavoriteActive":"Favorite"},ce))}}]),a}(n.Component),me=(a(223),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={spot:null,error:null,title:"",description:"",commentForm:!1,rating:0,editForm:!1,img:[],viewport:{},latitude:"",longitude:"",id:e.props.match.params.spotId,likes:0},e.deleteProject=function(){g.a.delete("/server/list/".concat(e.state.id)).then((function(){e.props.history.push("/list")}))},e.deleteImage=function(t){var a=e.state.img.filter((function(e){return e!==t}));console.log("this is executed",e.state.img,t,a),g.a.put("/server/list/deletepic/".concat(e.state.id),{picUrl:a}).then((function(t){console.log("updated:",t),e.setState({img:a})}))},e.onDrop=function(t){e.setState({img:e.state.img.concat(t)})},e.handleFile=function(t){e.setState({uploadText:"It's uploading.."}),console.log(t);var a=new FormData;console.log("SHOW ME THIS"+t.target),a.append("img",t.target.files[0]),g.a.post("/server/list/upload",a).then((function(t){e.setState({img:[].concat(Object(U.a)(e.state.img),[t.data.secure_url]),uploadText:"Upload successful."})})).catch((function(e){return console.log(e)}))},e.toggleEditForm=function(){e.setState({editForm:!e.state.editForm})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(w.a)({},n,r))},e.handleClick=function(){e.setState({rating:e.state.rating+1})},e.toggleCommentForm=function(){e.setState({commentForm:!e.state.commentForm})},e.handleSubmit=function(t){t.preventDefault(),g.a.put("/server/list/".concat(e.state.id),{title:e.state.title,description:e.state.description,img:e.state.img}).then((function(t){e.setState({spot:t.data,title:t.data.title,description:t.data.description,editForm:!1,img:e.state.img})})).catch((function(e){console.log(e)}))},e.getData=function(){g.a.get("/server/list/".concat(e.state.id)).then((function(t){var a;console.log("this is the axios response",t.data),e.setState((a={spot:t.data,title:t.data.title,description:t.data.description,latitude:t.data.latitude,longitude:t.data.longitude,likes:t.data.likes,viewport:{latitude:t.data.latitude,longitude:t.data.longitude,zoom:10,width:500,height:540,coordinates:""},rating:t.data.rating,img:t.data.img},Object(w.a)(a,"latitude",t.data.latitude),Object(w.a)(a,"longitude",t.data.longitude),a))})).catch((function(e){console.log(e.response)}))},e.componentDidMount=function(){e.getData()},e.exitEditing=function(){e.setState({editForm:!e.state.editForm})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;if(console.log("This state:",this.state),this.state.error)return r.a.createElement("div",null,this.state.error);if(!this.state.viewport)return r.a.createElement("div",null,"Loading..");if(!this.state.spot)return r.a.createElement(r.a.Fragment,null);var t=!1,a=!1,n=this.props.user,l=this.state.spot.owner;return n&&n._id===l&&(t=!0),n&&n._id===l&&(a=!0),console.log("this is the user ".concat(n._id)),console.log("this is the owner ".concat(l)),r.a.createElement("div",null,r.a.createElement("div",{className:"PlaceInfoTab"},r.a.createElement("h1",null,this.state.title),r.a.createElement("div",{className:"twoparts"},r.a.createElement(oe,{spotId:this.state.id,rating:this.state.rating}),r.a.createElement(ue,{spotId:this.state.id,likes:this.state.likes})),r.a.createElement("p",null,this.state.description),this.state.img.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("span",null,r.a.createElement("br",null),r.a.createElement("img",{src:e,className:"Picture",alt:"pic"})))})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(X.d,Object.assign({},this.state.viewport,{mapboxApiAccessToken:"pk.eyJ1IjoicGFvbGFnYXJheSIsImEiOiJja2NkcDliMzgwMHFpMnFtb2J2djQ0a3VsIn0.FAa7gpiYoJT2eCLEvVVsyA",mapStyle:"mapbox://styles/paolagaray/ckd0bdux30v981ilig8zxzd8p",onViewportChange:function(t){return e.setState({viewport:t})}}),r.a.createElement(X.c,{latitude:this.state.latitude,longitude:this.state.longitude,offsetTop:-20,offsetLeft:-10},r.a.createElement(z,{size:20}))),r.a.createElement("div",{className:"twoparts"},t&&r.a.createElement("button",{className:"part",variant:"danger",onClick:this.deleteProject}," Delete Spot "),a&&r.a.createElement("button",{className:"part",variant:"danger",onClick:this.toggleEditForm}," Edit Spot "),r.a.createElement("button",{className:"part",onClick:this.toggleCommentForm}," Add a Comment ")),this.state.commentForm&&r.a.createElement(ne,Object.assign({spotId:this.state._id,getData:this.getData,hideForm:function(){return e.setState({commentForm:!1})}},this.props)),this.state.commentForm,this.state.editForm&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("button",{onClick:this.exitEditing},"Exit editing"),r.a.createElement(ae,Object.assign({},this.state,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,deleteImage:this.deleteImage,handleFile:this.handleFile}))),r.a.createElement("h2",null," Comments "),r.a.createElement(re,{spotId:this.state.id}))))}}]),a}(n.Component)),pe=a(69),de=a.n(pe),ge=a(139),he=a(138),Ae=a.n(he),fe=(a(235),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=new de.a.Map({accessToken:"pk.eyJ1IjoicGFvbGFnYXJheSIsImEiOiJja2NkcDliMzgwMHFpMnFtb2J2djQ0a3VsIn0.FAa7gpiYoJT2eCLEvVVsyA",container:this.mapWrapper,style:"mapbox://styles/mapbox/streets-v10",center:[-73.985664,40.748514],zoom:12}),t=new ge.a,a=new Ae.a({accessToken:"pk.eyJ1IjoicGFvbGFnYXJheSIsImEiOiJja2NkcDliMzgwMHFpMnFtb2J2djQ0a3VsIn0.FAa7gpiYoJT2eCLEvVVsyA",unit:"metric",profile:"mapbox/driving"});e.addControl(a,"top-left"),e.addControl(t,"top-right")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.mapWrapper=t},className:"mapWrapper"})}}]),a}(r.a.Component)),Ee=(a(236),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:{}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/server/list/favorites").then((function(t){return e.setState({user:t.data})}))}},{key:"render",value:function(){return console.log(this.state.user.favorites),this.state.user.favorites?r.a.createElement("div",null,this.state.user.favorites.map((function(e){return r.a.createElement("div",null,r.a.createElement("p",null,e.title),r.a.createElement("img",{className:"images",src:e.img,alt:"sunset icon"}),r.a.createElement("div",{className:"itens"},r.a.createElement(oe,{spotId:e.id,rating:e.rating})))}))):r.a.createElement("div",null," loading.. ")}}]),a}(n.Component)),ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/spotdetails/:spotId",render:function(t){return r.a.createElement(me,Object.assign({user:e.state.user},t))}}),r.a.createElement("div",null,r.a.createElement(b,{user:this.state.user,setUser:this.setUser}),r.a.createElement(p.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(j,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(p.b,{exact:!0,path:"/profile",render:function(e){return r.a.createElement(Ee,e)}}),r.a.createElement(p.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(H,e)}}),r.a.createElement(p.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(O,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(p.b,{exact:!0,path:"/list",component:$}),r.a.createElement(p.b,{exact:!0,path:"/addSpot",render:function(t){return e.state.user?r.a.createElement(W,t):r.a.createElement(p.a,{to:"/signup"})}}),r.a.createElement(p.b,{exact:!0,path:"/edit/:spotId",component:ae}),r.a.createElement(p.b,{exact:!0,path:"/profile",component:Ee}),r.a.createElement(p.b,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(Ee,Object.assign({setUser:e.setUser,user:e.state.user},t))}}),r.a.createElement(p.b,{exact:!0,path:"/map",component:fe}))),r.a.createElement("div",{className:"footer"},"\xa9 IRONHACK WebDev Bootcamp Berlin 2020"))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));g.a.get("/server/auth/loggedin").then((function(e){var t=e.data;o.a.render(r.a.createElement(s.a,null,r.a.createElement(ve,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports=a.p+"static/media/google-logo.0b1e5c66.png"},89:function(e,t){}},[[148,1,2]]]);
//# sourceMappingURL=main.1e0fe9a5.chunk.js.map