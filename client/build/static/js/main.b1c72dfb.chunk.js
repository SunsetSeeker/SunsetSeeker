(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t){e.exports="data:image/png;base64,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"},109:function(e,t,a){e.exports=a.p+"static/media/google-logo.0b1e5c66.png"},110:function(e,t,a){e.exports=a.p+"static/media/carousel1.ec5a50b6.jpg"},111:function(e,t,a){e.exports=a.p+"static/media/carousel2.3397dcaf.jpg"},112:function(e,t,a){e.exports=a.p+"static/media/carousel3.b1208f7e.jpg"},118:function(e,t,a){e.exports=a.p+"static/media/trash.107c2a14.png"},134:function(e,t,a){e.exports=a(213)},139:function(e,t,a){},140:function(e,t,a){},157:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},193:function(e,t){},198:function(e,t,a){},199:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(81),o=a.n(i),l=a(29),s=(a(139),a(18)),c=a(19),u=a(21),m=a(20),d=(a(140),a(27)),p=a(22),A=a.n(p),h=function(e,t){return A.a.post("/server/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},g=function(e,t){return A.a.post("/server/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},f=a(107),E=a.n(f),v=(a(157),function(e){A.a.delete("/server/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))}),b=function(e){return r.a.createElement("nav",null,e.user&&r.a.createElement("div",null," Welcome, ",e.user.username,"!"),r.a.createElement(l.b,{to:"/list"},"Explore"),r.a.createElement(l.b,{to:"/profile"},r.a.createElement("img",{src:E.a,style:{width:"30px"},alt:"profile"})),e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"/",onClick:function(){return v(e)}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"/signup"},"Signup"),r.a.createElement(l.b,{to:"/login"},"Login")))},O=a(33),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;h(n,r).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/"))}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Signup with email"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"username"},"Username: "),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"Password: "),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"}),this.state.message&&r.a.createElement("p",null,this.state.message),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Signup")))}}]),a}(n.Component),C=a(109),w=a.n(C),D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;g(n,r).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/list"))}))},e.logInGoogle=function(e){e.preventDefault(),console.log("this")},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"username"},"Username: "),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"}),r.a.createElement("label",{htmlFor:"password"},"Password: "),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"}),r.a.createElement("button",{type:"submit"},"Login")),r.a.createElement("br",null),r.a.createElement("h4",null,"You have a Google account?"),r.a.createElement("a",{href:"http://localhost:5555/server/auth/google"},r.a.createElement("button",{className:"auth-btn sort-button"}," ",r.a.createElement("img",{src:w.a,style:{width:"15px"},alt:"google"}),"Sign up with Google")))}}]),a}(n.Component),y=(a(162),"abs fullW fullH"),j="fullH fullW imgCover",k=Object(n.memo)((function(e){var t=e.position,a=e.transition,n=e.image;return r.a.createElement("div",{className:y+" "+t+" "+a},r.a.createElement("img",{src:n,className:j,alt:"slide"}))})),T="fullW fullH rel overflowH",B="left0",P="left100vw",x="leftM100vw",F="transition1l",I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).startCarousel=function(){n.carouselInterval=setInterval((function(){n.transitionSlides()}),4e3)},n.setSlideState=function(e,t,a){n.setState({slide1:e,slide2:t,currentId:a})},n.transitionSlides=function(){var e,t=n.state,a=t.slide1,r=t.slide2;a.position===B?(a.position=x,r.position=B,e=r.id):(a.position=B,r.position=x,e=a.id),n.setSlideState(a,r,e),setTimeout((function(){n.resetSlideOffScreen()}),1e3)},n.resetSlideOffScreen=function(){var e=n.state,t=e.slide1,a=e.slide2,r=e.currentId,i=n.props.slides;t.position===x?(t.transition=!1,t.position=P,t.id=a.id+1===i.length?0:a.id+1):(a.transition=!1,a.position=P,a.id=t.id+1===i.length?0:t.id+1),n.setSlideState(t,a,r),n.resetSlideTransitions(t,a,r)},n.resetSlideTransitions=function(e,t,a){setTimeout((function(){e.transition=!0,t.transition=!0,n.setSlideState(e,t,a)}),500)},n.state={slide1:{id:0,position:B,transition:!0},slide2:{id:1,position:P,transition:!0},currentId:0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.startCarousel()}},{key:"componentWillUnmount",value:function(){clearInterval(this.carouselInterval)}},{key:"render",value:function(){var e=this.state,t=e.slide1,a=e.slide2,n=(e.currentId,this.props.slides);return r.a.createElement("div",{className:T},r.a.createElement(k,{image:n[t.id],position:t.position,transition:t.transition?F:""}),r.a.createElement(k,{image:n[a.id],position:a.position,transition:a.transition?F:""}))}}]),a}(n.Component),_=a(110),M=a.n(_),N=a(111),Q=a.n(N),L=a(112),R=a.n(L),H="screenW screenH dGray col",W="flex8 white",U=[M.a,Q.a,R.a],K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("br",null),r.a.createElement("h3",null,"You're a sunset lover?"),r.a.createElement("p",null,"Use ",r.a.createElement("b",null,"sunsetseeker")," to discover the best suns spots."),r.a.createElement("button",{variant:"danger"},r.a.createElement(l.b,{to:"/list",style:{textDecoration:"none",color:"white"}},"Start exploring!")),r.a.createElement("br",null),r.a.createElement("p",null,"  "),r.a.createElement("div",{className:H},r.a.createElement("div",{className:W},r.a.createElement(I,{slides:U}))))}}]),a}(n.Component),G=a(87),V=a(51),X={fill:"#FC5E53",stroke:"#ffffff"},z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.createElement("svg",{className:"Pin",width:"65",height:"65",viewBox:"0 0 29 28",style:X},n.createElement("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"}))}}]),a}(n.PureComponent),J=a(35),Y=(a(77),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={title:"",description:"",file:[],uploadText:"Choose a photo",viewport:{latitude:52,longitude:13,zoom:10,width:600,height:400,coordinates:""},marker:{latitude:52.5196,longitude:13.4069},events:{}},e.componentDidMount=function(){navigator.geolocation.getCurrentPosition((function(t){e.setState({viewport:{latitude:t.coords.latitude,longitude:t.coords.longitude,width:600,height:400,zoom:10},marker:{latitude:t.coords.latitude,longitude:t.coords.longitude}})}))},e.onDrop=function(t){e.setState({file:e.state.file.concat(t)})},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(O.a)({},a,n))},e.handleFile=function(t){e.setState({uploadText:"It's uploading.."}),console.log(t);var a=new FormData;console.log("SHOW ME THIS"+t.target),a.append("img",t.target.files[0]),console.log("THIS IS HAPPENING"),A.a.post("/server/list/upload",a).then((function(t){e.setState({file:[].concat(Object(V.a)(e.state.file),[t.data.secure_url]),uploadText:"Upload successful."})})).catch((function(e){return console.log(e)}))},e.handleSubmit=function(t){t.preventDefault(),A.a.post("/server/list",{title:e.state.title,description:e.state.description,file:e.state.file,latitude:e.state.marker.latitude,longitude:e.state.marker.longitude}).then((function(t){console.log(t.data),e.props.history.push("/spotdetails/".concat(t.data._id)),e.setState({title:" ",description:" ",file:" "})})).catch((function(e){console.log(e)}))},e._updateViewport=function(t){e.setState({viewport:t})},e._onMarkerDragStart=function(t){e._logDragEvent("onDragStart",t)},e._onMarkerDrag=function(t){e._logDragEvent("onDrag",t)},e._onMarkerDragEnd=function(t){e._logDragEvent("onDragEnd",t),e.setState({marker:{longitude:t.lngLat[0],latitude:t.lngLat[1]}})},e}return Object(c.a)(a,[{key:"_logDragEvent",value:function(e,t){this.setState({events:Object(G.a)(Object(G.a)({},this.state.events),{},Object(O.a)({},e,t.lngLat))})}},{key:"removeFile",value:function(e){this.setState({file:this.state.file.filter((function(t){return t!==e}))})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.viewport,t.marker);return n.createElement("div",null,n.createElement("button",null,n.createElement(l.b,{to:"/list"},"Go back toverview")),n.createElement("h2",null,"Add a new sunset location:"),n.createElement("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data"},n.createElement("label",null,"Name of the place:"),n.createElement("input",{type:"text",id:"title",name:"title",value:this.state.title,onChange:this.handleChange,required:!0}),n.createElement("label",null,"Tell us more about the place:"),n.createElement("input",{type:"text",id:"description",name:"description",value:this.state.description,onChange:this.handleChange}),n.createElement("div",{className:"fileInput"},n.createElement("input",{type:"file",id:"photo",name:"photo","data-cloudinary-field":"img_id",onChange:function(t){return e.handleFile(t)}}),this.state.uploadText,"It's uploading.."==this.state.uploadText&&n.createElement("div",{className:"bouncing-loader"},n.createElement("div",null),n.createElement("div",null),n.createElement("div",null)),n.createElement("br",null),n.createElement("br",null),0!==this.state.file.length&&this.state.file.map((function(e){return n.createElement(n.Fragment,null,n.createElement("img",{src:e,style:{width:"100px"}}))}))),"It's uploading.."!==this.state.uploadText&&n.createElement("button",{type:"submit",value:"Add"}," Add this spot")),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("div",null,n.createElement(J.d,Object.assign({},this.state.viewport,{mapStyle:"mapbox://styles/paolagaray/ckd0bdux30v981ilig8zxzd8p",onViewportChange:function(t){return e.setState({viewport:t})},mapboxApiAccessToken:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_TOKEN}),n.createElement("span",{className:"DragAndDrop MediumTextBold"},"Drag and drop the pin to spot a hidden place"),n.createElement(J.c,{longitude:a.longitude,latitude:a.latitude,offsetTop:-20,offsetLeft:-10,draggable:!0,onDragStart:this._onMarkerDragStart,onDrag:this._onMarkerDrag,onDragEnd:this._onMarkerDragEnd},n.createElement(z,{size:20})))))}}]),a}(n.Component)),Z=(a(163),a(220)),q=a(114),$=a(115),ee=a.n($),te=(a(192),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={sunsets:[],viewport:{latitude:52.52,longitude:13.405,zoom:10,width:500,height:540,coordinates:""},searchResultLayer:null},e.mapRef=r.a.createRef(),e.handleOnResult=function(t){e.setState({searchResultLayer:new Z.a({id:"search-result",data:t.result.geometry,getFillColor:[255,0,0,128],getRadius:1e3,pointRadiusMinPixels:10,pointRadiusMaxPixels:10})})},e.geocoder=new ee.a({accessToken:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_TOKEN}),e.componentDidMount=function(){e.getData()},e.getData=function(){A.a.get("server/list").then((function(t){console.log("sunsets list:",t.data),e.setState({sunsets:t.data}),console.log(e.state)})).catch((function(e){console.log("error",e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state;t.viewport,t.searchResultLayer;return r.a.createElement("div",{className:"list"},r.a.createElement("h2",null," List of Views next to the location "),this.state.sunsets.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("h3",null,r.a.createElement(l.b,{to:"/spotdetails/".concat(e._id)}," ",e.title),r.a.createElement("span",null," ",r.a.createElement("br",null)," ",r.a.createElement("img",{src:e.img[0],style:{width:"100px"},alt:"pic"}))))})),r.a.createElement(J.d,Object.assign({ref:this.mapRef},this.state.viewport,{mapboxApiAccessToken:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_TOKEN,mapStyle:"mapbox://styles/paolagaray/ckd0bdux30v981ilig8zxzd8p",onViewportChange:function(t){return e.setState({viewport:t})}}),r.a.createElement(J.b,{style:{float:"left",margin:"15px",padding:"5px"},positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}),r.a.createElement(q.a,{mapRef:this.mapRef,onResult:this.handleOnResult,onViewportChange:function(t){return e.setState({viewport:t})},mapboxApiAccessToken:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_TOKEN,position:"top-right"}),this.state.sunsets.map((function(e){return r.a.createElement(J.c,{key:e._id,longitude:e.longitude,latitude:e.latitude},r.a.createElement(l.b,{to:"/spotdetails/".concat(e._id)},r.a.createElement("img",{className:"marker-btn-img",src:e.img,alt:"sunset icon"})))}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",null,r.a.createElement(l.b,{to:"/addSpot"}," Add a new Spot")),r.a.createElement("br",null),r.a.createElement("br",null))}}]),a}(n.Component)),ae=a(118),ne=a.n(ae),re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Edit the spot you created:"),r.a.createElement("form",{onSubmit:this.props.handleSubmit,encType:"multipart/form-data"},r.a.createElement("label",null,"Change the name of the sunset spot:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"title",name:"title",value:this.props.title,onChange:this.props.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Change the description: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"description",name:"description",value:this.props.description,onChange:this.props.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Delete pictures: "),this.props.img.map((function(t){return r.a.createElement("div",null,r.a.createElement("button",{type:"button",variant:"danger",onClick:function(){return e.props.deleteImage(t)}},r.a.createElement("img",{src:t,style:{width:"100px"},alt:"pic"}),r.a.createElement("span",null,r.a.createElement("img",{src:ne.a,style:{width:"15px"}}))))})),r.a.createElement("label",null,"...or add more pictures:"),r.a.createElement("br",null),r.a.createElement("img",{src:this.props.img,style:{width:"100px"}}),r.a.createElement("input",{type:"file",id:"photo",name:"photo",multiple:!0,onChange:function(t){return e.props.handleFile(t)}}),r.a.createElement("input",{type:"submit",value:"Save"})))}}]),a}(n.Component),ie=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={commentfromuser:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state.commentfromuser,n=e.props.match.params.spotId;A.a.post("/server/comment/new/".concat(n),{comment:a}).then((function(t){e.props.getData(),e.props.hideForm()})).catch((function(e){console.log(e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Add a new comment "),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null," Whats your comment about this spot? "),r.a.createElement("input",{type:"text",id:"comment",name:"commentfromuser",value:this.state.commentfromuser,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Add"})))}}]),a}(n.Component),oe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={comments:[],message:""},e.componentDidMount=function(){e.getData()},e.getData=function(){A.a.get("/server/commentlist/".concat(e.props.spotId)).then((function(t){console.log("teste teste",t),0==t.data.length?e.setState({message:"no comments"}):e.setState({comments:t.data})})).catch((function(e){console.log("error",e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null," Test "),this.state.message&&r.a.createElement("p",null,this.state.message),this.state.comments.map((function(e){return r.a.createElement("p",{key:e._id},e.text)})))}}]),a}(n.Component),le=a(84),se=(a(198),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={rating:0,hover:0},e.handleHover=function(t){e.setState({hover:t})},e.getAverageRating=function(e){return e.reduce((function(e,t){return e+t}),0)/e.length},e.handleRating=function(t){console.log(t.target.value),A.a.put("/server/list/rating/".concat(e.props.spotId),{rating:t.target.value}).then((function(t){console.log(t,"RESPONSE"),e.setState({rating:e.getAverageRating(t.data.rating)})}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({rating:this.getAverageRating(this.props.rating)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,Object(V.a)(Array(5)).map((function(t,a){var n=a+1;return r.a.createElement("label",null,r.a.createElement("input",{className:"ratingstars",type:"radio",name:"rating",value:n,onClick:function(t){return e.handleRating(t)}}),r.a.createElement(le.a,{className:"star",color:n<=(e.state.hover||e.state.rating)?"#ffc107":"#e4e5e9",size:60,onMouseEnter:function(){return e.handleHover(n)},onMouseLeave:function(){return e.handleHover(null)}}),";")})))}}]),a}(n.Component)),ce=(a(199),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={favorite:!1,likes:e.props.likes},e.handleFavorites=function(){A.a.put("/server/list/favorites/".concat(e.props.spotId)).then((function(t){console.log(t.data,"RESPONSE"),e.setState({likes:t.data.likes,favorite:!0})}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleFavorites},this.state.likes," Likes"))}}]),a}(n.Component)),ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={spot:null,error:null,title:"",description:"",commentForm:!1,rating:0,editForm:!1,img:[],viewport:{},latitude:"",longitude:"",id:e.props.match.params.spotId,likes:0},e.deleteProject=function(){A.a.delete("/server/list/".concat(e.state.id)).then((function(){e.props.history.push("/list")}))},e.deleteImage=function(t){var a=e.state.img.filter((function(e){return e!==t}));console.log("this is executed",e.state.img,t,a),A.a.put("/server/list/deletepic/".concat(e.state.id),{picUrl:a}).then((function(t){console.log("updated:",t),e.setState({img:a})}))},e.onDrop=function(t){e.setState({img:e.state.img.concat(t)})},e.handleFile=function(t){e.setState({uploadText:"It's uploading.."}),console.log(t);var a=new FormData;console.log("SHOW ME THIS"+t.target),a.append("img",t.target.files[0]),A.a.post("/server/list/upload",a).then((function(t){e.setState({img:[].concat(Object(V.a)(e.state.img),[t.data.secure_url]),uploadText:"Upload successful."})})).catch((function(e){return console.log(e)}))},e.toggleEditForm=function(){e.setState({editForm:!e.state.editForm})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r))},e.handleClick=function(){e.setState({rating:e.state.rating+1})},e.toggleCommentForm=function(){e.setState({commentForm:!e.state.commentForm})},e.handleSubmit=function(t){t.preventDefault(),A.a.put("/server/list/".concat(e.state.id),{title:e.state.title,description:e.state.description,img:e.state.img}).then((function(t){e.setState({spot:t.data,title:t.data.title,description:t.data.description,editForm:!1,img:e.state.img})})).catch((function(e){console.log(e)}))},e.getData=function(){A.a.get("/server/list/".concat(e.state.id)).then((function(t){var a;console.log("this is the axios response",t.data),e.setState((a={spot:t.data,title:t.data.title,description:t.data.description,latitude:t.data.latitude,longitude:t.data.longitude,likes:t.data.likes,viewport:{latitude:t.data.latitude,longitude:t.data.longitude,zoom:10,width:600,height:400,coordinates:""},rating:t.data.rating,img:t.data.img},Object(O.a)(a,"latitude",t.data.latitude),Object(O.a)(a,"longitude",t.data.longitude),a))})).catch((function(e){console.log(e.response)}))},e.componentDidMount=function(){e.getData()},e.exitEditing=function(){e.setState({editForm:!e.state.editForm})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;if(console.log("This state:",this.state),this.state.error)return r.a.createElement("div",null,this.state.error);if(!this.state.viewport)return r.a.createElement("div",null,"Loading..");if(!this.state.spot)return r.a.createElement(r.a.Fragment,null);var t=!1,a=!1,n=this.props.user,i=this.state.spot.owner;return n&&n._id===i&&(t=!0),n&&n._id===i&&(a=!0),console.log("this is the user ".concat(n._id)),console.log("this is the owner ".concat(i)),r.a.createElement("div",null,r.a.createElement("h1",null,this.state.title),r.a.createElement("p",null,this.state.description),this.state.img.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("span",null,r.a.createElement("br",null),r.a.createElement("img",{src:e,style:{width:"100px"},alt:"pic"})))})),t&&r.a.createElement("button",{variant:"danger",onClick:this.deleteProject}," Delete Spot "),a&&r.a.createElement("button",{variant:"danger",onClick:this.toggleEditForm}," Edit Spot "),r.a.createElement("button",{onClick:this.toggleCommentForm}," Add a Comment "),this.state.commentForm&&r.a.createElement(ie,Object.assign({spotId:this.state._id,getData:this.getData,hideForm:function(){return e.setState({commentForm:!1})}},this.props)),this.state.commentForm,r.a.createElement("h1",null," Rate this Spot "),r.a.createElement("br",null),r.a.createElement(se,{spotId:this.state.id,rating:this.state.rating}),r.a.createElement("h2",null," Comments "),r.a.createElement(oe,{spotId:this.state.id}),r.a.createElement(oe,{spotId:this.state.id}),r.a.createElement(ce,{spotId:this.state.id,likes:this.state.likes}),this.state.editForm&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("button",{onClick:this.exitEditing},"Exit editing"),r.a.createElement(re,Object.assign({},this.state,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,deleteImage:this.deleteImage,handleFile:this.handleFile}))),r.a.createElement("div",null," Map",r.a.createElement(J.d,Object.assign({},this.state.viewport,{mapboxApiAccessToken:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_TOKEN,mapStyle:"mapbox://styles/paolagaray/ckd0bdux30v981ilig8zxzd8p",onViewportChange:function(t){return e.setState({viewport:t})}}),r.a.createElement(J.c,{latitude:this.state.latitude,longitude:this.state.longitude,offsetTop:-20,offsetLeft:-10},r.a.createElement(z,{size:20}))),r.a.createElement("h6",null,"Latitude: ",this.state.viewport.latitude," "),r.a.createElement("h6",null,"Longitude: ",this.state.viewport.longitude," ")))}}]),a}(n.Component),me=a(68),de=a.n(me),pe=a(125),Ae=a(124),he=a.n(Ae),ge=(a(211),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=new de.a.Map({accessToken:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_TOKEN,container:this.mapWrapper,style:"mapbox://styles/mapbox/streets-v10",center:[-73.985664,40.748514],zoom:12}),t=new pe.a,a=new he.a({accessToken:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_TOKEN,unit:"metric",profile:"mapbox/driving"});e.addControl(a,"top-left"),e.addControl(t,"top-right")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.mapWrapper=t},className:"mapWrapper"})}}]),a}(r.a.Component)),fe=(a(212),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={user:{}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;A.a.get("/server/list/favorites").then((function(t){return e.setState({user:t.data})}))}},{key:"render",value:function(){return this.state.user.favorites?r.a.createElement("div",null,this.state.user.favorites.map((function(e){return r.a.createElement("div",null,r.a.createElement("p",null,e.title),"// ",r.a.createElement(ce,{spotId:e._id}))}))):r.a.createElement("div",null," loading.. ")}}]),a}(n.Component)),Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(b,{user:this.state.user,setUser:this.setUser}),r.a.createElement(d.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(S,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(d.b,{exact:!0,path:"/profile",render:function(e){return r.a.createElement(fe,e)}}),r.a.createElement(d.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(K,e)}}),r.a.createElement(d.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(D,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(d.b,{exact:!0,path:"/list",component:te}),r.a.createElement(d.b,{exact:!0,path:"/addSpot",render:function(t){return e.state.user?r.a.createElement(Y,t):r.a.createElement(d.a,{to:"/signup"})}}),r.a.createElement(d.b,{exact:!0,path:"/edit/:spotId",component:re}),r.a.createElement(d.b,{exact:!0,path:"/profile",component:fe}),r.a.createElement(d.b,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(fe,Object.assign({setUser:e.setUser,user:e.state.user},t))}}),r.a.createElement(d.b,{exact:!0,path:"/map",component:ge}),r.a.createElement(d.b,{exact:!0,path:"/spotdetails/:spotId",render:function(t){return r.a.createElement(ue,Object.assign({user:e.state.user},t))}}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));A.a.get("/server/auth/loggedin").then((function(e){var t=e.data;o.a.render(r.a.createElement(l.a,null,r.a.createElement(Ee,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t){}},[[134,1,2]]]);
//# sourceMappingURL=main.b1c72dfb.chunk.js.map